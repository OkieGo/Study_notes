## AOP是什么

AOP是Aspect Oriented Programming的缩写，意思是面向切面编程。可以通过编译方式和运行期动态代理实现再不改变源代码的情况下对程序进行功能增强的一种技术。

## 基于注解用到的技术

![](D:\Documents\Java\Spring\assets\注解AOP.png)



- 动态代理（InvocationHandler）：JDK原生的实现方式，需要被代理的目标类必须实现接口。因为这个技术要求**代理对象和目标对象实现同样的接口**（兄弟两个拜把子模式）。
- cglib：通过**继承被代理的目标类**（认干爹模式）实现代理，所以不需要目标类实现接口。
- AspectJ：本质上是静态代理，**将代理逻辑“织入”被代理的目标类编译得到的字节码文件**，所以最终效果是动态的。weaver就是织入器。Spring只是借用了AspectJ中的注解。

